/******/!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var n=i(1),o=i(2),s=i(3),r=i(4),a=i(5),c=i(6),m=i(7);angular.module("empeekTaskApp",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ngMaterial","toastr","LocalStorageModule"]).config(n.config).config(o.routerConfig).run(s.runBlock).controller("MainController",r.MainController).service("itemsService",m.ItemsService).directive("sidenav",a.SidenavDirective).directive("items",c.ItemsDirective)},function(e,t){"use strict";function i(e,t,i){"ngInject";e.debugEnabled(!0),t.setPrefix("empeekTaskApp"),i.allowHtml=!0,i.timeOut=5e3,i.positionClass="toast-top-right",i.preventDuplicates=!0,i.progressBar=!0}i.$inject=["$logProvider","localStorageServiceProvider","toastrConfig"],Object.defineProperty(t,"__esModule",{value:!0}),t.config=i},function(e,t){"use strict";function i(e,t){"ngInject";e.state("home",{url:"/overview",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/overview")}i.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.routerConfig=i},function(e,t){"use strict";function i(e){"ngInject";e.debug("runBlock end")}i.$inject=["$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.runBlock=i},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.MainController=function n(){"ngInject";i(this,n)}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";var e={restrict:"E",templateUrl:"app/components/sidenav/sidenav.html",controller:s,controllerAs:"vm"};return e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.SidenavDirective=n;var s=function(){function e(t){"ngInject";i(this,e),this.$location=t,this.menu=[{title:"Overview",url:"/overview",link:"home"}]}return e.$inject=["$location"],o(e,[{key:"isActive",value:function(e){return e===this.$location.path()}}]),e}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";var e={restrict:"E",templateUrl:"app/components/items/items.html",controller:s,controllerAs:"vm"};return e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.ItemsDirective=n;var s=function(){function e(t,n,o){"ngInject";var s=this;i(this,e),this.itemsLoaded=!1,this.commentsLoaded=!1,this.activeItemIndex=-1,this.title="",this.text="",this.itemsService=t,this.toastr=o,n.$on("$destroy",n.$on("items:updated",function(){s.items=t.getItems(),s.itemsLoaded=!0,s.commentsLoaded=!0}))}return e.$inject=["itemsService","$rootScope","toastr"],o(e,[{key:"addComment",value:function(){var t=this,i=-1===this.activeItemIndex;return i?(this.showErrorMessage("Please select item first"),void(this.text="")):e.isEmpty(this.text)?void this.showErrorMessage("Please enter your comment first"):(this.commentsLoaded=!1,void this.itemsService.addComment(this.activeItemIndex,this.text.trim()).then(function(e){t.items=e,t.text="",t.commentsLoaded=!0}))}},{key:"addItem",value:function(){var t=this;return e.isEmpty(this.title)?void this.showErrorMessage("Please enter item title first"):(this.itemsLoaded=!1,void this.itemsService.addItem(this.title.trim()).then(function(e){t.items=e,t.title="",t.itemsLoaded=!0}))}},{key:"deleteItem",value:function(e){var t=this;this.itemsService.deleteItem(e).then(function(e){t.activeItemIndex=-1,t.items=e})}},{key:"selectItem",value:function(e){this.activeItemIndex=e}},{key:"showErrorMessage",value:function(e){this.toastr.error(e)}}],[{key:"isEmpty",value:function(e){return""===e||/^\s+$/.test(e)}}]),e}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.ItemsService=function(){function e(t,n,o,s){"ngInject";i(this,e),this.q=n,this.timeout=t,this.storage=s,this.rootScope=o,this.colors=["#47568c","#ff8a00"],this.currentColor=!1,this.items?o.$broadcast("items:updated"):this.reload()}return e.$inject=["$timeout","$q","$rootScope","localStorageService"],n(e,[{key:"reload",value:function(){var e=this;return this.promise=this.loadItems(),this.promise.then(function(t){e.items=t?t:[],e.rootScope.$broadcast("items:updated")}),this.promise}},{key:"loadItems",value:function(){var e=this;return this.q(function(t){e.timeout(function(){t(angular.fromJson(e.storage.get("items")))},1e3)})}},{key:"getItems",value:function(){return this.items}},{key:"addItem",value:function(e){var t=this;return this.q(function(i){t.timeout(function(){t.items.push({title:e,comments:[]}),t.storage.set("items",angular.toJson(t.items)),i(t.items)},500)})}},{key:"deleteItem",value:function(e){var t=this;return this.q(function(i){t.timeout(function(){t.items.splice(e,1),t.storage.set("items",angular.toJson(t.items)),i(t.items)},500)})}},{key:"addComment",value:function(e,t){var i=this,n=this.colors[+this.currentColor];return this.currentColor=!this.currentColor,this.q(function(o){i.timeout(function(){i.items[e].comments.push({text:t,avaColor:n}),i.storage.set("items",angular.toJson(i.items)),o(i.items)},500)})}}]),e}()}]),angular.module("empeekTaskApp").run(["$templateCache",function(e){e.put("app/main/main.html","<items></items>"),e.put("app/components/items/items.html",'<md-content class=md-padding layout-md=column layout-gt-md=row layout-align="start start"><div class=items-card flex=50 layout=column><md-card layout=column><md-card-title><md-card-title-text><span class=md-headline>Items</span></md-card-title-text></md-card-title><md-card-actions class=items-btns layout=row layout-align="start center"><div layout=row flex><!--<md-input-container flex class="md-icon-float md-block md-title">--><!--<label>Type name here...</label>--> <input class=title-input type=text placeholder="Type name here..." ng-model=vm.title><!--</md-input-container>--><div><md-button class="md-raised md-empeek-btn primary-btn" ng-click=vm.addItem(vm.title) ng-disabled=!vm.itemsLoaded>Add New</md-button></div></div></md-card-actions><md-card-content><md-progress-circular ng-disabled=!vm.activated class="md-accent md-hue-2 items-loader" md-diameter=100 ng-show=!vm.itemsLoaded></md-progress-circular><ul class=list-items ng-show=vm.itemsLoaded><!--class="list-item list-item-active"--><li class=list-item ng-class="{ \'list-item-active\': vm.activeItemIndex === $index }" ng-repeat="item in vm.items" ng-click=vm.selectItem($index)><span class=md-item-in-list>{{ item.title }}<md-badge class=md-item-badge>{{ item.comments.length }}</md-badge></span><md-button class="md-raised md-empeek-btn white-btn item-delete-btn" ng-click=vm.deleteItem($index)>Delete</md-button><span class=list-item-border></span></li></ul></md-card-content></md-card></div><div class=comments-card flex-xs flex=50 layout=column><md-card><md-card-title><md-card-title-text><span class=md-headline>Comments #{{ vm.activeItemIndex + 1 }}</span></md-card-title-text></md-card-title><md-card-content><ul class=comments-list><li ng-repeat="comment in vm.items[vm.activeItemIndex].comments"><div class=comment-ava ng-style="{ \'background-color\': comment.avaColor }"></div><div class=comment><span>{{ comment.text }}</span></div><span class=list-comment-border></span></li></ul><md-progress-circular class="md-accent md-hue-2 items-loader" md-diameter=100 ng-show=!vm.commentsLoaded></md-progress-circular><div class=new-comment><div class=comment-ava></div><textarea class=text-textarea cols=49 required ng-model=vm.text ng-keydown="$event.keyCode == 13 && vm.addComment()" placeholder="Enter your comment here and hit enter key...">\n            </textarea></div></md-card-content></md-card></div></md-content>'),e.put("app/components/sidenav/sidenav.html",'<div class=sidenav><md-sidenav md-component-id=left class="md-sidenav-left md-locked-open" md-is-open=true md-is-locked-open=true><h3>Main</h3><md-list><md-item ng-repeat="item in vm.menu"><a ui-sref="{{ item.link }}"><md-item-content md-ink-ripple layout=row layout-align="start center" ng-class="{ \'md-item-active\': vm.isActive(item.url) }"><div class=inset>{{item.title}}</div></md-item-content></a></md-item></md-list></md-sidenav></div>')}]);
//# sourceMappingURL=../maps/scripts/app-1d99865695.js.map
